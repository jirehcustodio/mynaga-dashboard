# MyNaga Dashboard - Architecture & Flow

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          WEB BROWSER                             â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    FRONTEND (React)                        â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚  â”‚Dashboard â”‚  â”‚Cases     â”‚  â”‚Clusters  â”‚               â”‚ â”‚
â”‚  â”‚  â”‚(Stats)   â”‚  â”‚(Management)â”‚ â”‚(Organization)            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â”‚         â”‚              â”‚              â”‚                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚     Zustand State Management                 â”‚       â”‚ â”‚
â”‚  â”‚  â”‚  (Cases, Offices, Clusters, Stats)          â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚         â”‚                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚     Axios API Client                         â”‚       â”‚ â”‚
â”‚  â”‚  â”‚     (HTTP Requests to Backend)               â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚         â”‚                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ HTTP/REST
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          BACKEND (FastAPI - Python)                    â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚              API Routes (25+ Endpoints)            â”‚â”‚  â”‚
â”‚  â”‚  â”‚                                                    â”‚â”‚  â”‚
â”‚  â”‚  â”‚  GET/POST/PUT/DELETE /api/cases                  â”‚â”‚  â”‚
â”‚  â”‚  â”‚  GET/POST /api/offices                           â”‚â”‚  â”‚
â”‚  â”‚  â”‚  GET/POST/PUT /api/clusters                      â”‚â”‚  â”‚
â”‚  â”‚  â”‚  POST /api/import/excel                          â”‚â”‚  â”‚
â”‚  â”‚  â”‚  GET /api/stats                                  â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â”‚         â”‚                â”‚                â”‚            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Service  â”‚   â”‚ Excel Importerâ”‚  â”‚ Validators  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Logic    â”‚   â”‚ (Pandas)      â”‚  â”‚ (Pydantic)  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚         â”‚                â”‚                â”‚         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚     SQLAlchemy ORM Layer                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   (Database abstraction)                     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ SQL
             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â–¼                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              DATABASE                                    â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚  SQLite / PostgreSQL                                    â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â”‚  Tables:                                                â”‚ â”‚
â”‚  â”‚  â€¢ cases (Main data)                                   â”‚ â”‚
â”‚  â”‚  â€¢ offices                                             â”‚ â”‚
â”‚  â”‚  â€¢ clusters                                            â”‚ â”‚
â”‚  â”‚  â€¢ tags                                                â”‚ â”‚
â”‚  â”‚  â€¢ case_updates                                        â”‚ â”‚
â”‚  â”‚  â€¢ case_office_association (Many-to-many)             â”‚ â”‚
â”‚  â”‚  â€¢ case_cluster_association (Many-to-many)            â”‚ â”‚
â”‚  â”‚                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

### Creating a Case

```
User Input (Form)
    â”‚
    â–¼
CaseModal Component
    â”‚
    â”œâ”€â–º Validates input (Client-side)
    â”‚
    â–¼
Axios API Call (POST /api/cases)
    â”‚
    â–¼
Backend: create_case() endpoint
    â”‚
    â”œâ”€â–º Validate with Pydantic
    â”œâ”€â–º Check for duplicates
    â”‚
    â–¼
SQLAlchemy ORM
    â”‚
    â”œâ”€â–º Create Case object
    â”œâ”€â–º Commit to database
    â”‚
    â–¼
Database
    â”‚
    â””â”€â–º Insert into cases table
    
    â–¼
Response JSON
    â”‚
    â–¼
Zustand Store (useCaseStore.addCase)
    â”‚
    â–¼
UI Re-render
    â”‚
    â–¼
Display in Cases Table
```

### Importing Excel

```
User selects file
    â”‚
    â–¼
File validation (xlsx/xls)
    â”‚
    â–¼
Upload via Axios
    â”‚
    â–¼
Backend: import_excel() endpoint
    â”‚
    â”œâ”€â–º Save temp file
    â”‚
    â–¼
ExcelImporter class
    â”‚
    â”œâ”€â–º Read with Pandas
    â”œâ”€â–º Map columns to database
    â”œâ”€â–º Validate each row
    â”œâ”€â–º Check for duplicates
    â”‚
    â–¼
For each case:
    â”‚
    â”œâ”€â–º Create or Update
    â”œâ”€â–º Handle relationships
    â”‚
    â–¼
Database
    â”‚
    â””â”€â–º Bulk insert/update
    
    â–¼
Response (count + errors)
    â”‚
    â–¼
Reload cases from API
    â”‚
    â–¼
Update Zustand store
    â”‚
    â–¼
Show import summary
```

### Filtering & Search

```
User inputs search/filter
    â”‚
    â–¼
Zustand store updates filters
    â”‚
    â–¼
useEffect triggers
    â”‚
    â–¼
Axios GET /api/cases?filters
    â”‚
    â–¼
Backend builds query
    â”‚
    â”œâ”€â–º Filter by status
    â”œâ”€â–º Filter by category
    â”œâ”€â–º Filter by barangay
    â”œâ”€â–º Search text (ilike)
    â”‚
    â–¼
Database executes query
    â”‚
    â–¼
Return filtered results
    â”‚
    â–¼
Update Zustand state
    â”‚
    â–¼
CaseTable re-renders
    â”‚
    â–¼
Show filtered results
```

---

## Database Schema Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CASES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                                                      â”‚
â”‚ control_no (UK) - Unique identifier                         â”‚
â”‚ date_created                                                 â”‚
â”‚ category                                                     â”‚
â”‚ sender_location                                              â”‚
â”‚ barangay                                                     â”‚
â”‚ description                                                  â”‚
â”‚ status (OPEN/RESOLVED/FOR REROUTING)                        â”‚
â”‚ reported_by                                                  â”‚
â”‚ contact_number                                               â”‚
â”‚ ... (30+ more fields)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                      â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                                    â”‚
    One-to-Many                                          One-to-Many
         â”‚                                                    â”‚
         â–¼                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CASE_UPDATES       â”‚                           â”‚    TAGS          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)              â”‚                           â”‚ id (PK)          â”‚
â”‚ case_id (FK)         â”‚                           â”‚ case_id (FK)     â”‚
â”‚ update_text          â”‚                           â”‚ tag_name         â”‚
â”‚ updated_by           â”‚                           â”‚ created_at       â”‚
â”‚ update_timestamp     â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ status_after_update  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Many-to-Many Relationships:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CASE_OFFICE_ASSOCIATION           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ case_id (FK) â”€â”€â”                   â”‚
â”‚ office_id (FK)â”€â”¼â”€â”                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚
        â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   CASES     â”‚    â”‚   OFFICES    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ id (PK)      â”‚
                       â”‚ name         â”‚
                       â”‚ location     â”‚
                       â”‚ is_active    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CASE_CLUSTER_ASSOCIATION          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ case_id (FK) â”€â”€â”                   â”‚
â”‚ cluster_id(FK)â”€â”¼â”€â”                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚
        â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   CASES     â”‚    â”‚  CLUSTERS    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ id (PK)      â”‚
                       â”‚ name         â”‚
                       â”‚ color        â”‚
                       â”‚ barangay     â”‚
                       â”‚ created_by   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Tree

```
App.jsx
â”‚
â”œâ”€â”€ Sidebar.jsx
â”‚   â”œâ”€â”€ Home Link
â”‚   â”œâ”€â”€ Cases Link
â”‚   â”œâ”€â”€ Clusters Link
â”‚   â””â”€â”€ Offices Link
â”‚
â””â”€â”€ Routes
    â”‚
    â”œâ”€â”€ Dashboard.jsx
    â”‚   â”œâ”€â”€ StatCard x 6
    â”‚   â”œâ”€â”€ BarChart (Cases by Status)
    â”‚   â””â”€â”€ Statistics Panel
    â”‚
    â””â”€â”€ CasesPage.jsx
        â”œâ”€â”€ Header
        â”‚   â”œâ”€â”€ Import Button
        â”‚   â””â”€â”€ New Case Button
        â”‚
        â”œâ”€â”€ SearchBar
        â”‚   â””â”€â”€ Filters
        â”‚
        â””â”€â”€ CaseTable.jsx
            â”œâ”€â”€ TableHeader
            â”œâ”€â”€ TableRows
            â”‚   â”œâ”€â”€ Edit Button
            â”‚   â””â”€â”€ Delete Button
            â”‚
            â””â”€â”€ CaseModal.jsx
                â”œâ”€â”€ Form Fields
                â”œâ”€â”€ Cancel Button
                â””â”€â”€ Submit Button
```

---

## User Workflows

### Workflow 1: Import & Organize

```
1. Start App
   â”‚
   â”œâ”€â–º Go to Cases page
   â”‚
   â”œâ”€â–º Click "Import Excel"
   â”‚
   â”œâ”€â–º Select your data file
   â”‚
   â”œâ”€â–º System imports and validates
   â”‚
   â”œâ”€â–º View import summary
   â”‚
   â”œâ”€â–º See cases in table
   â”‚
   â”œâ”€â–º Go to Clusters page
   â”‚
   â”œâ”€â–º Create clusters
   â”‚
   â””â”€â–º Assign cases to clusters
```

### Workflow 2: Track & Update

```
1. Open Cases page
   â”‚
   â”œâ”€â–º Click on case
   â”‚
   â”œâ”€â–º Edit form opens
   â”‚
   â”œâ”€â–º Change status
   â”‚
   â”œâ”€â–º Add notes/updates
   â”‚
   â”œâ”€â–º Save changes
   â”‚
   â”œâ”€â–º View on Dashboard
   â”‚
   â””â”€â–º Statistics update
```

### Workflow 3: Search & Filter

```
1. Open Cases page
   â”‚
   â”œâ”€â–º Type in search bar
   â”‚
   â”œâ”€â–º Select status filter
   â”‚
   â”œâ”€â–º Select category filter
   â”‚
   â”œâ”€â–º Select barangay filter
   â”‚
   â”œâ”€â–º Results filter in real-time
   â”‚
   â””â”€â–º View filtered cases
```

### Workflow 4: Export Data

```
1. Open Cases page
   â”‚
   â”œâ”€â–º (All cases already visible)
   â”‚
   â”œâ”€â–º Click "Export Excel"
   â”‚
   â”œâ”€â–º File downloads
   â”‚
   â””â”€â–º Use for reports/backup
```

---

## Deployment Architecture

### Development

```
Your Computer
â”œâ”€ Backend (localhost:8000)
â”‚  â”œâ”€ Python Virtual Environment
â”‚  â”œâ”€ Uvicorn Server
â”‚  â””â”€ SQLite Database
â”‚
â”œâ”€ Frontend (localhost:3000)
â”‚  â”œâ”€ Vite Dev Server
â”‚  â”œâ”€ Hot Module Reload
â”‚  â””â”€ Browser
```

### Production (Docker)

```
Host Server
â”‚
â”œâ”€ Docker Daemon
â”‚  â”‚
â”‚  â”œâ”€ Backend Container
â”‚  â”‚  â”œâ”€ Python App
â”‚  â”‚  â”œâ”€ Uvicorn Server
â”‚  â”‚  â””â”€ SQLite/PostgreSQL Client
â”‚  â”‚
â”‚  â”œâ”€ Frontend Container
â”‚  â”‚  â”œâ”€ Node.js App
â”‚  â”‚  â”œâ”€ Serve (Static Files)
â”‚  â”‚  â””â”€ Nginx (Optional)
â”‚  â”‚
â”‚  â”œâ”€ Network Bridge
â”‚  â””â”€ Volumes (Data Persistence)
â”‚
â””â”€ Database
   â””â”€ PostgreSQL (Optional, External)
```

### Production (Distributed)

```
Internet
   â”‚
   â”œâ”€â–º CDN (Frontend Static Files)
   â”‚   â””â”€ Vercel / CloudFront
   â”‚
   â”œâ”€â–º API Gateway
   â”‚   â””â”€ Load Balancer
   â”‚
   â”œâ”€â–º Application Servers (Backend)
   â”‚   â”œâ”€ Server 1 (Heroku / EC2)
   â”‚   â”œâ”€ Server 2
   â”‚   â””â”€ Server 3
   â”‚
   â”œâ”€â–º Database
   â”‚   â”œâ”€ Primary PostgreSQL
   â”‚   â””â”€ Replica (Read-only)
   â”‚
   â””â”€â–º Storage
       â””â”€ S3 / Cloud Storage (Backups)
```

---

## API Request/Response Flow

### Create Case Example

```
REQUEST:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/cases                         â”‚
â”‚ Content-Type: application/json          â”‚
â”‚                                         â”‚
â”‚ {                                       â”‚
â”‚   "control_no": "CN-2024-001",         â”‚
â”‚   "category": "Water Issue",           â”‚
â”‚   "barangay": "San Isidro",            â”‚
â”‚   "description": "No water supply",    â”‚
â”‚   "status": "OPEN"                     â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼ (HTTP POST)
    Backend Processing
           â”‚
           â”œâ”€â–º Pydantic Validation
           â”œâ”€â–º Check Duplicates
           â”œâ”€â–º Create Object
           â””â”€â–º Save to DB
           â”‚
           â–¼
RESPONSE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTTP 200 OK                             â”‚
â”‚ Content-Type: application/json          â”‚
â”‚                                         â”‚
â”‚ {                                       â”‚
â”‚   "id": 42,                             â”‚
â”‚   "control_no": "CN-2024-001",         â”‚
â”‚   "category": "Water Issue",           â”‚
â”‚   "barangay": "San Isidro",            â”‚
â”‚   "status": "OPEN",                    â”‚
â”‚   "created_at": "2024-10-22T...",      â”‚
â”‚   "updated_at": "2024-10-22T...",      â”‚
â”‚   "tags": [],                           â”‚
â”‚   "updates": [],                        â”‚
â”‚   "offices": []                         â”‚
â”‚ }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**This is a production-ready, fully-featured case management system!** ğŸš€
